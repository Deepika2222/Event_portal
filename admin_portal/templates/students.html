{% extends "base.html" %}
{% block title %}Students{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3">Students</h1>
    <form class="d-flex" method="GET">
        <input type="text" class="form-control me-2" name="q" placeholder="Search by USN or name" value="{{ query }}">
        <button class="btn btn-outline-primary" type="submit">Search</button>
    </form>
</div>
<div class="table-responsive shadow-sm">
    <table class="table table-striped align-middle">
        <thead>
            <tr>
                <th>USN</th>
                <th>Name</th>
                <th>Department</th>
                <th>Email</th>
                <th>Phone</th>
            </tr>
        </thead>
        <tbody>
            {% if students %}
                {% for student in students %}
                <tr>
                    <td>{{ student.USN }}</td>
                    <td>{{ student.name }}</td>
                    <td>{{ student.department }}</td>
                    <td>{{ student.email }}</td>
                    <td>{{ student.phone }}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr><td colspan="5" class="text-center py-4">No students found.</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}
